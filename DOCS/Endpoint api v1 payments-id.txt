Endpoint: /api/v1/payments/ID
Ruta:

Route::apiResource('payments', PaymentsController::class);

Descripción:

Este endpoint retorna la información de un pago junto con la factura asociada, si aplica, según el ID proporcionado.

Al enviar una solicitud a este endpoint con el ID de un pago, se obtiene toda la información relevante de dicho pago. Esto incluye detalles específicos del pago y la factura asociada, si corresponde.

Parámetros de Entrada:

No usa parametros.

Ejemplo de Solicitud:

GET  /api/v1/payments/1273875
Host: yourapi.com
Authorization: Bearer <token>

Respuesta:
{
    "nextPaymentNumber": "939876",
    "payment_prefix": "PAY",
    "payment_gateway_name": "Balance",
    "payment": {
        "id": 1273875,
        "payment_number": "PAY-939876",
        "payment_date": "2024-11-01",
        "notes": null,
        "amount": 2226867,
        "unique_hash": "67251e54a09427.86644990",
        "user_id": 23,
        "invoice_id": 60698,
        "company_id": 1,
        "payment_method_id": 21,
        "authorize_id": null,
        "aux_vault_id": null,
        "payment_paypal_id": null,
        "credit_card": null,
        "created_at": "2024-11-01T18:30:44.000000Z",
        "updated_at": "2024-11-01T18:30:44.000000Z",
        "deleted_at": null,
        "creator_id": 1,
        "transaction_status": "Approved",
        "payment_prepaid": 0,
        "inv_expense_credit": 0,
        "applied_credit_customer": 0,
        "isVoid": true,
        "formattedCreatedAt": "2024\/11\/01",
        "formattedPaymentDate": "2024\/11\/01",
        "paymentPdfUrl": "https:\/\/cbdev.corebill.co\/payments\/pdf\/67251e54a09427.86644990",
        "is_payment_multiple": 1,
        "user": {
            "id": 23,
            "first_name": null,
            "last_name": null,
            "name": "Kirkendall Dwyer LLP II",
            "email": "info@careonecomm.com",
            "phone": "4699989608",
            "customer_username": null,
            "password_encrypted": "eyJpdiI6Ik4zY1NsTU5HZHFqR2lsM0I4OTc5TFE9PSIsInZhbHVlIjoiTkVEemFwa0lucUtRRGxCTmVML2lKUT09IiwibWFjIjoiZjlmZGNhZjM2NTM1ZmZhMzVkMDMwZDQyOWU3NDg3ZjFjNTQzNTQ3NjBkM2RkNmFjOTZjYTBmZDkwNDNhOThkMyIsInRhZyI6IiJ9",
            "security_pin": "7414",
            "role": "customer",
            "role2": null,
            "authentication": 1,
            "username_status": 0,
            "facebook_id": null,
            "google_id": null,
            "github_id": null,
            "contact_name": "Andrew Kirkendall",
            "company_name": null,
            "website": null,
            "enable_portal": null,
            "currency_id": 1,
            "company_id": 1,
            "company_orf": null,
            "company_orf_type": null,
            "customer_type": "B",
            "avalara_bool": 1,
            "avalara_type": "1",
            "bscl": null,
            "svcl": null,
            "fclt": null,
            "reg": null,
            "avalara_location_id": 19,
            "prepaid_option": "1",
            "auto_debit": "0",
            "email_low_balance_notification": 50,
            "auto_replenish_amount": 75,
            "negative_balance": 0,
            "language": "en",
            "timezone": "America\/Chicago",
            "auto_suspension": 0,
            "created_at": "2022-05-20T16:49:59.000000Z",
            "updated_at": "2024-09-10T22:03:26.000000Z",
            "creator_id": 1,
            "deleted_at": null,
            "status_customer": "A",
            "customcode": "POP-000023",
            "balance": 3.4980008745004e-8,
            "add_shipping_addres": 0,
            "status_payment": "prepaid",
            "minimun_balance": "75.00000",
            "sendedcredentials": 1,
            "sale_type": "Retail",
            "frch": null,
            "lfln": 0,
            "type_vat_regime": 1,
            "great_contributor": 0,
            "self_retaining": 0,
            "vat_withholding_agent": 0,
            "simple_tax_regime": 0,
            "not_applicable_others": 0,
            "firebase_code": "d6ekuqp9RdW0UkITZsiuC2:APA91bGnRjeH0_42d1RNNz3hd1UT4XSKndeph2U3fOV0QEpcMUym-fP__xkWUI-IO4t2wCxlkge4ywXndIcdWffbn265NX07-nNOcpck7BNjc4s4ZviNoWP85z9vAjk2XZdUIceYoS9U",
            "pbx_notification": 0,
            "email_estimates": 0,
            "email_invoices": 0,
            "email_payments": 0,
            "email_services": 0,
            "email_pbx_services": 0,
            "email_tickets": 0,
            "email_expenses": 0,
            "avatar": 0,
            "incorporated": 1,
            "lead_id": null,
            "verified": 0,
            "formattedCreatedAt": "2022\/05\/20",
            "formattedMakePayment": "YES",
            "formattedAddCredit": "YES",
            "formattedNameCompleted": "Kirkendall Dwyer LLP II - Andrew Kirkendall",
            "currency": {
                "id": 1,
                "name": "US Dollar",
                "code": "USD",
                "symbol": "$",
                "precision": 2,
                "thousand_separator": ",",
                "decimal_separator": ".",
                "swap_currency_symbol": 0,
                "created_at": "2022-03-15T00:02:03.000000Z",
                "updated_at": "2022-03-15T00:02:03.000000Z"
            },
            "media": []
        },
        "invoice": {
            "id": 60698,
            "package_bool": 0,
            "customer_packages_id": null,
            "pbx_service_id": null,
            "invoice_date": "2024-11-01T05:00:00.000000Z",
            "due_date": "2024-11-08",
            "invoice_number": "INV-14044029",
            "reference_number": null,
            "status": "COMPLETED",
            "paid_status": "PAID",
            "save_as_draft": 0,
            "not_charge_automatically": 0,
            "tax_per_item": "NO ",
            "discount_per_item": "NO",
            "notes": null,
            "discount_type": "fixed",
            "discount": 0,
            "discount_val": 0,
            "sub_total": 2226867,
            "total": 2226867,
            "late_fee_amount": 0,
            "late_fee_taxes": 0,
            "pbx_service_price": 0,
            "tax": 0,
            "due_amount": 0,
            "sent": 0,
            "viewed": 0,
            "unique_hash": "67251e3e0ff3d0.50598317",
            "user_id": 23,
            "company_id": 1,
            "created_at": "2024-11-01T18:30:22.000000Z",
            "updated_at": "2024-11-01T18:30:44.000000Z",
            "creator_id": 1,
            "template_name": null,
            "deleted_at": null,
            "pbx_total_items": 0,
            "pbx_total_extension": 0,
            "pbx_total_did": 0,
            "pbx_total_aditional_charges": 0,
            "pbx_total_cdr": 0,
            "avalara_total_tax": null,
            "inv_avalara_bool": 0,
            "avalara_invm": null,
            "pbxservice_date_prev": null,
            "pbxservice_date_renewal": null,
            "end_period_services": null,
            "attempts": 0,
            "autodebit_notices_check": 0,
            "sended_credentials": 0,
            "invoice_pbx_modify": 0,
            "invoice_template_id": 1,
            "invoiceprorate": 0,
            "prepaid_amount": "0.00000",
            "tax_prepaid_amount": "0.00000",
            "pbx_total_apprate": 0,
            "retention_total": 0,
            "retention": "NO",
            "pbx_packprice": 0,
            "noeditable": 0,
            "addresses_id": null,
            "pbx_extension_price": 0,
            "count_extension": 0,
            "count_did": 0,
            "edited_at": null,
            "is_edited": 0,
            "is_pdf_pos": 1,
            "is_invoice_pos": 1,
            "service_manual": 0,
            "formattedInvoiceDate": "2024\/11\/01",
            "formattedCreatedAt": "2024\/11\/01",
            "formattedDueDate": "2024\/11\/08",
            "formattedPrevDate": "",
            "formattedRenewalDate": "",
            "formattedEndPeriodServices": null,
            "formattedFullPeriodService": "",
            "invoicePdfUrl": "https:\/\/cbdev.corebill.co\/invoices\/pdf\/67251e3e0ff3d0.50598317",
            "is_recuperable": 0
        },
        "payment_method": {
            "id": 21,
            "name": "Multiple",
            "status": "A",
            "only_cash": 0,
            "add_payment_gateway": 0,
            "paypal_button": 0,
            "stripe_button": 0,
            "company_id": 1,
            "account_accepted": "N",
            "created_at": "2023-07-06T23:26:15.000000Z",
            "updated_at": "2023-07-06T23:26:15.000000Z",
            "deleted_at": null,
            "payment_gateways_id": null,
            "settings_id": null,
            "for_customer_use": 0,
            "generate_expense": 0,
            "void_refund": 0,
            "generate_expense_id": null,
            "void_refund_expense_id": null,
            "expense_import": 0,
            "is_multiple": 1,
            "show_notes_table": 0,
            "formattedNameLabel": "Multiple (No Gateway)",
            "registrationdatafees": null,
            "IsPaymentFeeActive": "NO"
        },
        "fields": []
    },
    "authorize": null,
    "aux_vault": null,
    "invoice_id": {
        "id": 60698,
        "package_bool": 0,
        "customer_packages_id": null,
        "pbx_service_id": null,
        "invoice_date": "2024-11-01T05:00:00.000000Z",
        "due_date": "2024-11-08",
        "invoice_number": "INV-14044029",
        "reference_number": null,
        "status": "COMPLETED",
        "paid_status": "PAID",
        "save_as_draft": 0,
        "not_charge_automatically": 0,
        "tax_per_item": "NO ",
        "discount_per_item": "NO",
        "notes": null,
        "discount_type": "fixed",
        "discount": 0,
        "discount_val": 0,
        "sub_total": 2226867,
        "total": 2226867,
        "late_fee_amount": 0,
        "late_fee_taxes": 0,
        "pbx_service_price": 0,
        "tax": 0,
        "due_amount": 0,
        "sent": 0,
        "viewed": 0,
        "unique_hash": "67251e3e0ff3d0.50598317",
        "user_id": 23,
        "company_id": 1,
        "created_at": "2024-11-01T18:30:22.000000Z",
        "updated_at": "2024-11-01T18:30:44.000000Z",
        "creator_id": 1,
        "template_name": null,
        "deleted_at": null,
        "pbx_total_items": 0,
        "pbx_total_extension": 0,
        "pbx_total_did": 0,
        "pbx_total_aditional_charges": 0,
        "pbx_total_cdr": 0,
        "avalara_total_tax": null,
        "inv_avalara_bool": 0,
        "avalara_invm": null,
        "pbxservice_date_prev": null,
        "pbxservice_date_renewal": null,
        "end_period_services": null,
        "attempts": 0,
        "autodebit_notices_check": 0,
        "sended_credentials": 0,
        "invoice_pbx_modify": 0,
        "invoice_template_id": 1,
        "invoiceprorate": 0,
        "prepaid_amount": "0.00000",
        "tax_prepaid_amount": "0.00000",
        "pbx_total_apprate": 0,
        "retention_total": 0,
        "retention": "NO",
        "pbx_packprice": 0,
        "noeditable": 0,
        "addresses_id": null,
        "pbx_extension_price": 0,
        "count_extension": 0,
        "count_did": 0,
        "edited_at": null,
        "is_edited": 0,
        "is_pdf_pos": 1,
        "is_invoice_pos": 1,
        "service_manual": 0,
        "formattedInvoiceDate": "2024\/11\/01",
        "formattedCreatedAt": "2024\/11\/01",
        "formattedDueDate": "2024\/11\/08",
        "formattedPrevDate": "",
        "formattedRenewalDate": "",
        "formattedEndPeriodServices": null,
        "formattedFullPeriodService": "",
        "invoicePdfUrl": "https:\/\/cbdev.corebill.co\/invoices\/pdf\/67251e3e0ff3d0.50598317",
        "is_recuperable": 0
    },
    "expenselist": [],
    "authorize2": null
}
